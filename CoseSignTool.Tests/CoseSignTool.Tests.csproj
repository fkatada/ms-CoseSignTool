<Project Sdk="MSTest.Sdk">
	<PropertyGroup>
		<TargetFramework>net8.0</TargetFramework>
		<Platforms>AnyCPU</Platforms>
		<!-- must match the platform set from CoseSignTool	-->
		<Nullable>enable</Nullable>
		<IsPublishable>false</IsPublishable>
		<EnablePreviewFeatures>true</EnablePreviewFeatures>
		<EnforceCodeStyleInBuild>True</EnforceCodeStyleInBuild>
		<SignAssembly>True</SignAssembly>
		<PublicSign>True</PublicSign>
		<AssemblyOriginatorKeyFile>..\StrongNameKeys\35MSSharedLib1024.snk</AssemblyOriginatorKeyFile>
	</PropertyGroup>

	<PropertyGroup>
		<!-- other property settings -->
<!--		<ResolveAssemblyWarnOrErrorOnTargetArchitectureMismatch>None</ResolveAssemblyWarnOrErrorOnTargetArchitectureMismatch>
		<TestingPlatformShowTestsFailure>true</TestingPlatformShowTestsFailure>-->
	</PropertyGroup>

	<ItemGroup>
		<!-- Because this is a test project, don't run code coverage -->
		<AssemblyAttribute Include="System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverageAttribute" />
	</ItemGroup>

	<!-- Package references -->

	<!-- Project references -->
	<ItemGroup>
		<ProjectReference Include="..\CoseSign1.Tests.Common\CoseSign1.Tests.Common.csproj" />
		<ProjectReference Include="..\CoseSignTool\CoseSignTool.csproj" />
	</ItemGroup>

	<!-- Includes -->
	<ItemGroup>
	  <PackageReference Include="FluentAssertions" Version="6.12.1" />
	  <PackageReference Include="System.Text.Json" Version="8.0.5" />
	  <PackageReference Update="MSTest.TestFramework" Version="3.6.1" />
	  <PackageReference Update="MSTest.TestAdapter" Version="3.6.1" />
	  <PackageReference Update="Microsoft.NET.Test.Sdk" Version="17.11.1" />
	</ItemGroup>

	<!-- Copy to output -->
	<ItemGroup>
	  <None Update="TestData\payload.json">
	    <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
	  </None>
	  <None Update="TestData\signature.cose">
	    <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
	  </None>
	</ItemGroup>
	<ItemGroup>
	  <PackageReference Update="Microsoft.Testing.Extensions.TrxReport" Version="1.4.1" />
	</ItemGroup>
</Project>
